<div class="container-lg">
    <div id="alert-bar" class="row">
        <div class="">

        </div>
    </div>
    <div id="return-holder" class="row m-1">
        <a routerLink="../">Back</a>
    </div>
    <div class="row">
        <div class="d-flex justify-content-center">
        <div class="d-flex justify-content-center" *ngIf="!orderLoaded">
            <div class="spinner-border"></div>
        </div>
        <div class="d-flex flex-wrap align-content-center justify-content-center" *ngIf="!editing">
            <!-- <app-order-card  [orderData]="order"></app-order-card> -->
            <div >
                <p>Order ID: {{order.orderId}}</p>
                <p>Order Status: {{order.orderStatus}}</p>
                <p>Delivery Fee: {{order.deliveryFee }}</p>
                <p>Subtotal: {{order.subTotal}}</p>
                <p>Tip: {{order.tip}}</p>
                <p>Tax: {{order.tax}}</p>
                <p>Total: {{order.total}}</p>
                <p>Order Time Created: {{order.timeCreated}}</p>
                <p>Order Scheduled For: {{order.scheduledFor}}</p>
                <p>Order Net Loyalty Points: {{order.netLoyalty}}</p>
                <p>Order Driver: {{order.driverFirstName}}</p>
                <p>Items Ordered: {{order.items.length}}</p>
                    <ul *ngFor="let item of order.items">
                        <li >{{item.name}}</li>
                        <ul>
                            <li>price: {{item.price}}</li>
                            <li>description: {{item.description}}</li>
                            <li>notes: {{item.notes}}</li>
                            <li>discount: {{item.discount}}</li>
                        </ul>
                    </ul>
            </div>
        </div>
    </div>
    
    <div class="d-flex flex-wrap align-content-center justify-content-center" *ngIf="editing">
        <!-- <app-order-card  [orderData]="order"></app-order-card> -->
        <div >
            <p>Order ID: {{order.orderId}}</p>
            <p>Order Status: {{order.orderStatus}}</p>
            <p>Delivery Fee: {{order.deliveryFee }}</p>
            <p>Order Tip: {{order.tip}}</p>
            <input type="number" placeholder="{{order.tip}}" id="updateTip" name="updateTip" [(ngModel)]="updateTip" />
            <p>Order Subtotal: {{order.subTotal}}</p>
            <p>Order Tax: {{order.tax}}</p>
            <p>Order Total: {{order.total}}</p>
            <p>Items Ordered:</p>
                <ul>
                    <ul *ngFor="let item of orderItems; let i = index" [attr.data-index]="i">
                        <li >{{item.name}}</li>
                        <ul>
                            <li>price: {{item.price}}</li>
                        </ul>
                        <li><button class="clickBtn" (click)="removeItem(i)">Remove Item</button></li>
                    </ul>
                    <br>
                    <div *ngIf="!addingItem">
                        <button class="clickBtn" (click)="loadAddItem()">Add Item</button>
                    </div>
                </ul>
                <div *ngIf="addingItem">
                    <h5>Add Items</h5>
                            <select [(ngModel)]="restaurant" (change)="loadRestaurantMenu(restaurant)">
                                <option value="default" class="btn-primary">Restaurants</option>
                                    <option *ngFor="let restaurant of allRestaurants;" value="{{restaurant.name}}">{{restaurant.name}}</option>
                            </select>
                            <div *ngIf="restaurantMenuLoaded">
                                <ul *ngFor="let item of restaurantMenu let i = index" [attr.data-index]="i">
                                    <li>{{item.name}}</li>
                                    <li>{{item.price}}</li>
                                    <li><button class="clickBtn" (click)="addItem(i)">Add Item</button></li>
                                </ul>
                            </div>
                </div>
        </div>
    </div>
</div>
<div *ngIf="!editing">
    <button class="clickBtn" (click)="loadEditPage()">Edit Order</button>
    <button class="clickBtn" id="cancelOrder" (click)="cancelOrder()">Cancel Order</button>
</div>
<div *ngIf="editing">
    <button class="clickBtn" (click)="sendEdit()">Send Edit</button>
    <button class="clickBtn" (click)="cancelEdit()">Cancel Edit</button>
</div>
</div>